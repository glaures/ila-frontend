import{_ as y}from"./DdXIXnsV.js";import{e as g,i as v,r as m,j as k,k as x,c as n,a as e,h as l,F as w,p as A,o as s,t as d,d as _,E as B,w as C}from"./AwnmPAjg.js";import{_ as P}from"./DlAUqK2U.js";const F={class:"container-fluid py-3"},N={class:"d-flex align-items-center justify-content-between mb-3"},E=["disabled"],L={key:0},I={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},j={key:0,class:"text-center py-5"},D={key:1,class:"alert alert-success",role:"alert"},K={key:2,class:"card"},R={class:"list-group list-group-flush"},V={class:"flex-fill"},$={class:"fw-semibold"},M={class:"small text-muted mt-1"},S={class:"badge bg-danger-subtle text-danger-emphasis border border-danger-subtle"},T={class:"ms-2"},U={class:"ms-md-3"},q={key:1,class:"btn btn-outline-secondary btn-sm",disabled:"",title:"Für diesen Problemtyp ist noch keine Aktion hinterlegt."},z=g({__name:"problems",setup(G){const{$authFetch:b}=v(),i=m([]),r=m(!0),p={notEnoughCourses:"nicht genügend Kurse"};function c(a){switch(a.type){case"notEnoughCourses":return`/admin/users/${encodeURIComponent(a.id)}`;default:return null}}const h=k(()=>i.value.length>0);async function u(){r.value=!0;try{const a=await b("/problems");i.value=Array.isArray(a)?a:[]}finally{r.value=!1}}return x(u),(a,o)=>{const f=y;return s(),n("div",F,[e("div",N,[o[0]||(o[0]=e("h1",{class:"h4 mb-0"},"Belegungsprobleme",-1)),e("button",{class:"btn btn-outline-secondary btn-sm",onClick:u,disabled:l(r)},[l(r)?(s(),n("span",I)):(s(),n("span",L,"Neu laden"))],8,E)]),l(r)?(s(),n("div",j,o[1]||(o[1]=[e("div",{class:"spinner-border",role:"status","aria-hidden":"true"},null,-1),e("div",{class:"mt-2"},"Lade Probleme …",-1)]))):l(h)?(s(),n("div",K,[e("div",R,[(s(!0),n(w,null,A(l(i),t=>(s(),n("div",{key:t.id+":"+t.type+":"+t.description,class:"list-group-item d-flex flex-column flex-md-row align-items-start align-items-md-center gap-2"},[e("div",V,[e("div",$,d(t.description),1),e("div",M,[e("span",S,d(p[t.type]??t.type),1),e("span",T,[o[2]||(o[2]=_("Problem-ID: ")),e("code",null,d(t.id),1)])])]),e("div",U,[c(t)?(s(),B(f,{key:0,to:c(t),class:"btn btn-primary btn-sm"},{default:C(()=>o[3]||(o[3]=[_(" Beheben ")])),_:2},1032,["to"])):(s(),n("button",q," Keine Aktion verfügbar "))])]))),128))])])):(s(),n("div",D," Aktuell sind keine Probleme vorhanden. "))])}}}),Q=P(z,[["__scopeId","data-v-fa37c877"]]);export{Q as default};
