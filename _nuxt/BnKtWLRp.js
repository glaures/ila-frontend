import{_ as x}from"./CRuePu63.js";import{_ as w}from"./Cuu0Cvaq.js";import{e as g,c as s,o as n,a as e,F as m,s as h,p as f,t as b,b as _,C as k,w as $,d as y,A as P,_ as A,i as N,aK as z,m as B,h as i,af as C}from"./DOMMAJn8.js";import{u as S}from"./DupvfXT0.js";import"./D3ZtO9sM.js";import"./__VBgIl6.js";const K={"aria-label":"Admin Navigation"},M={class:"nav nav-pills flex-column gap-1"},V={key:0,class:"menu-separator"},E={class:"menu-header"},F={class:"text-muted small fw-semibold text-uppercase"},L=g({__name:"AdminMenu",setup(v){const r=P(),l=[{header:"Kursangebot",items:[{to:"/admin/phasen",label:"Phasen",icon:"bi bi-calendar3"},{to:"/admin/bloecke",label:"Blöcke",icon:"bi bi-clock-history"},{to:"/admin/kurse",label:"Kurse",icon:"bi bi-chat-left-text"},{to:"/admin/block-ausnahmen",label:"Ausnahmen",icon:"bi bi-clipboard2-x"}]},{header:"Belegungen",items:[{to:"/admin/preference-status",label:"Präferenzen",icon:"bi bi-folder-check"},{to:"/admin/zuweisungs-prozess",label:"Zuweisungs-Prozess",icon:"bi bi-person-lines-fill"},{to:"/admin/users",label:"Manuelle Anpassungen",icon:"bi bi-person-lines-fill"},{to:"/admin/problems",label:"Belegungsprobleme",icon:"bi bi-exclamation-diamond"},{to:"/admin/belegungen",label:"Belegungsüberblick",icon:"bi bi-printer"},{to:"/admin/wechselrunde",label:"Wechselrunde",icon:"bi bi-arrow-left-right"}]},{header:"Extras",items:[{to:"/admin/nutzerverwaltung",label:"Externe Nutzer",icon:"bi bi-person-fill-lock"},{to:"/admin/beste-schule-abwesenheiten",label:"Beste Schule Abwesenheiten",icon:"bi bi-arrow-up-right-square"}]}];function d(c){return r.path===c.to||r.path.startsWith(c.to+"/")}return(c,o)=>{const p=w;return n(),s("nav",K,[e("ul",M,[(n(),s(m,null,h(l,(u,a)=>(n(),s(m,{key:a},[a>0?(n(),s("li",V,o[1]||(o[1]=[e("hr",{class:"my-2"},null,-1)]))):f("",!0),e("li",E,[e("span",F,b(u.header),1)]),(n(!0),s(m,null,h(u.items,t=>(n(),s("li",{key:t.to,class:"nav-item text-nowrap"},[_(p,{to:t.to,class:k(["nav-link",{active:d(t)}]),onClick:o[0]||(o[0]=X=>c.$emit("navigate"))},{default:$(()=>[e("i",{class:k([t.icon,"me-1"]),"aria-hidden":"true"},null,2),y(" "+b(t.label),1)]),_:2},1032,["to","class"])]))),128))],64))),64))])])}}}),R=A(L,[["__scopeId","data-v-639d29f6"]]),T={class:"mb-3"},W={class:"form-label d-flex align-items-center gap-2",for:"period-select"},q={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},D=["disabled","value"],G=["value"],I={key:0,class:"text-warning d-block mt-1"},Z=g({__name:"PeriodSelector",setup(v){const{$authFetch:r}=N(),l=S(),{periods:d,selectedId:c,loading:o}=z(l);B(async()=>{l.initialized||await l.loadPeriods(r)});function p(u){const a=u.target.value;l.setSelected(a?Number(a):null)}return(u,a)=>(n(),s("div",T,[e("label",W,[a[0]||(a[0]=e("span",null,"Phase",-1)),i(o)?(n(),s("span",q)):f("",!0)]),e("select",{id:"period-select",class:"form-select",disabled:i(o)||i(d).length===0,value:i(c)??"",onChange:p,"aria-label":"Phase auswählen"},[a[1]||(a[1]=e("option",{value:"",disabled:""},"Phase auswählen",-1)),(n(!0),s(m,null,h(i(d),t=>(n(),s("option",{key:t.id,value:t.id},b(t.current?"★ ":"")+b(t.name)+b(t.current?" (aktuell)":""),9,G))),128))],40,D),!i(o)&&i(d).length===0?(n(),s("small",I," Keine Phasen gefunden. ")):f("",!0)]))}}),j={class:"min-vh-100 d-flex flex-column"},H={class:"flex-grow-1"},J={class:"container-fluid"},O={class:"row"},Q={class:"col-md-4 col-lg-3 d-md-block bg-light border-end p-3"},U={class:"col-12 col-md-8 col-lg-9 p-3 p-md-4"},oe=g({__name:"admin",setup(v){return(r,l)=>(n(),s(m,null,[_(x),e("div",j,[e("div",H,[e("div",J,[e("div",O,[e("aside",Q,[_(Z),_(R)]),e("main",U,[C(r.$slots,"default")])])])])])],64))}});export{oe as default};
