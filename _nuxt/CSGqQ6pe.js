import{_ as k}from"./CW8j-qI1.js";import{_ as $}from"./DdXIXnsV.js";import{e as b,c as n,o,a as e,F as h,p as x,b as _,y as v,w,d as P,t as m,x as y,i as N,aD as C,k as S,m as g,h as l,a8 as A}from"./AwnmPAjg.js";import{_ as B}from"./DlAUqK2U.js";import{u as V}from"./DfOf_ssZ.js";import"./DA14h1B5.js";import"./BfDoHaud.js";const D={"aria-label":"Admin Navigation"},F={class:"nav nav-pills flex-column gap-1"},M=b({__name:"AdminMenu",setup(f){const i=y(),a=[{to:"/admin/phasen",label:"Phasen",icon:"bi bi-calendar3"},{to:"/admin/bloecke",label:"Blöcke",icon:"bi bi-clock-history"},{to:"/admin/kurse",label:"Kurse",icon:"bi bi-chat-left-text"},{to:"/admin/users",label:"Schüler",icon:"bi bi-person-lines-fill"},{to:"/admin/problems",label:"Probleme",icon:"bi bi-exclamation-diamond"},{to:"/admin/assignments",label:"Druck-Übersichten",icon:"bi bi-printer"}];function d(r){return i.path===r.to||i.path.startsWith(r.to+"/")}return(r,c)=>{const p=$;return o(),n("nav",D,[e("ul",F,[(o(),n(h,null,x(a,s=>e("li",{key:s.to,class:"nav-item text-nowrap"},[_(p,{to:s.to,class:v(["nav-link",{active:d(s)}]),onClick:c[0]||(c[0]=t=>r.$emit("navigate"))},{default:w(()=>[e("i",{class:v([s.icon,"me-1"]),"aria-hidden":"true"},null,2),P(" "+m(s.label),1)]),_:2},1032,["to","class"])])),64))])])}}}),z=B(M,[["__scopeId","data-v-5ab6d0e5"]]),I={class:"mb-3"},K={class:"form-label d-flex align-items-center gap-2",for:"period-select"},L={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},R=["disabled","value"],T=["value"],E={key:0,class:"text-warning d-block mt-1"},W=b({__name:"PeriodSelector",setup(f){const{$authFetch:i}=N(),a=V(),{periods:d,selectedId:r,loading:c}=C(a);S(async()=>{a.initialized||await a.loadPeriods(i)});function p(s){const t=s.target.value;a.setSelected(t?Number(t):null)}return(s,t)=>(o(),n("div",I,[e("label",K,[t[0]||(t[0]=e("span",null,"Phase",-1)),l(c)?(o(),n("span",L)):g("",!0)]),e("select",{id:"period-select",class:"form-select",disabled:l(c)||l(d).length===0,value:l(r)??"",onChange:p,"aria-label":"Phase auswählen"},[t[1]||(t[1]=e("option",{value:"",disabled:""},"Phase auswählen",-1)),(o(!0),n(h,null,x(l(d),u=>(o(),n("option",{key:u.id,value:u.id},m(u.current?"★ ":"")+m(u.name)+m(u.current?" (aktuell)":""),9,T))),128))],40,R),!l(c)&&l(d).length===0?(o(),n("small",E," Keine Phasen gefunden. ")):g("",!0)]))}}),j={class:"min-vh-100 d-flex flex-column"},q={class:"flex-grow-1"},G={class:"container-fluid"},H={class:"row"},J={class:"col-md-4 col-lg-3 d-md-block bg-light border-end p-3"},O={class:"col-12 col-md-8 col-lg-9 p-3 p-md-4"},te=b({__name:"admin",setup(f){return(i,a)=>(o(),n(h,null,[_(k),e("div",j,[e("div",q,[e("div",G,[e("div",H,[e("aside",J,[_(W),_(z)]),e("main",O,[A(i.$slots,"default")])])])])])],64))}});export{te as default};
