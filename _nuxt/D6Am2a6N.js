import{_ as b}from"./hq9GLEiy.js";import{e as D,i as N,r,m as A,c as e,a as s,p as E,t as a,F as l,s as h,o as t,b as M,w as S,d as y}from"./C40gEiOu.js";const C={class:"container py-4"},P={key:0,class:"alert alert-danger"},T={key:1,class:"text-center"},F={key:0,class:"alert alert-info d-flex align-items-center",role:"alert"},I={key:1,class:"row g-3"},Y={class:"card h-100"},z={class:"card-header d-flex justify-content-between align-items-center"},B={class:"text-muted d-block"},O={class:"card-body"},V={class:"fw-semibold"},K={key:0},L={class:"list-group list-group-numbered"},H={class:"badge bg-light text-dark"},R={key:1,class:"text-muted"},U={key:2,class:"text-muted"},G=D({__name:"my-assignments",setup(W){const{$authFetch:_}=N(),d=r(!0),c=r(null),g=r([]),u=r(!1),k=i=>({MONDAY:"Montag",TUESDAY:"Dienstag",WEDNESDAY:"Mittwoch",THURSDAY:"Donnerstag",FRIDAY:"Freitag"})[i]||i;async function w(){d.value=!0,c.value=null;try{if(u.value=await _("/assignment-results/is-finalized"),u.value){const i=await _("/preferences/overview");g.value=i}}finally{d.value=!1}}return A(w),(i,o)=>{const x=b;return t(),e("div",C,[o[4]||(o[4]=s("h1",{class:"h3 mb-3"},"Meine Kurse",-1)),c.value?(t(),e("div",P,a(c.value),1)):E("",!0),d.value?(t(),e("div",T,o[0]||(o[0]=[s("div",{class:"spinner-border"},null,-1)]))):(t(),e(l,{key:2},[u.value?(t(),e("div",I,[(t(!0),e(l,null,h(g.value,n=>{var v,f,p;return t(),e("div",{key:n.blockId,class:"col-12 col-md-6 col-lg-6"},[s("div",Y,[s("div",z,[s("div",null,[s("strong",null,a(k(n.dayOfWeek)),1),s("small",B,a(n.startTime)+"–"+a(n.endTime),1)]),M(x,{class:"btn btn-sm btn-outline-primary",to:`/preferences/${n.blockId}`},{default:S(()=>o[2]||(o[2]=[y(" Bearbeiten ")])),_:2},1032,["to"])]),s("div",O,[n.status==="ASSIGNED"?(t(),e(l,{key:0},[s("div",V,a((v=n.assignedCourse)==null?void 0:v.name),1),s("div",null,a((f=n.assignedCourse)==null?void 0:f.instructor)+", "+a((p=n.assignedCourse)==null?void 0:p.room),1)],64)):n.status==="OPEN"?(t(),e(l,{key:1},[n.topPreferences.length>0?(t(),e("div",K,[o[3]||(o[3]=s("div",{class:"fw-semibold"},"Top-Präferenzen:",-1)),s("ol",L,[(t(!0),e(l,null,h(n.topPreferences,m=>(t(),e("li",{key:m.id,class:"list-group-item"},[y(a(m.name)+" ",1),s("span",H,"Prio "+a(m.preferenceIndex+1),1)]))),128))])])):(t(),e("div",R," Mittagessen / Hofpause "))],64)):(t(),e("span",U,"Pause gewählt"))])])])}),128))])):(t(),e("div",F,o[1]||(o[1]=[s("i",{class:"bi bi-info-circle-fill me-2 fs-5"},null,-1),s("div",null," Die Zuweisung der Kurse ist noch nicht abgeschlossen. Sobald die endgültige Einteilung feststeht, werden deine Kurse hier angezeigt. ",-1)])))],64))])}}});export{G as default};
