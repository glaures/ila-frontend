import{_ as w}from"./BjYQoZRc.js";import{e as D,i as N,r as u,m as b,c as e,a as s,p as A,t as o,F as l,s as g,o as t,b as M,w as C,d as f}from"./Bt8ervS0.js";const E={class:"container py-4"},P={key:0,class:"alert alert-danger"},S={key:1,class:"text-center"},T={key:2,class:"row g-3"},F={class:"card h-100"},I={class:"card-header d-flex justify-content-between align-items-center"},Y={class:"text-muted d-block"},B={class:"card-body"},O={class:"fw-semibold"},V={key:0},L={class:"list-group list-group-numbered"},H={class:"badge bg-light text-dark"},R={key:1,class:"text-muted"},U={key:2,class:"text-muted"},z=D({__name:"my-assignments",setup(W){const{$authFetch:y}=N(),i=u(!0),d=u(null),_=u([]),k=r=>({MONDAY:"Montag",TUESDAY:"Dienstag",WEDNESDAY:"Mittwoch",THURSDAY:"Donnerstag",FRIDAY:"Freitag"})[r]||r;async function h(){i.value=!0,d.value=null;try{const r=await y("/preferences/overview");_.value=r}finally{i.value=!1}}return b(h),(r,a)=>{const x=w;return t(),e("div",E,[a[3]||(a[3]=s("h1",{class:"h3 mb-3"},"Meine Kurse",-1)),d.value?(t(),e("div",P,o(d.value),1)):A("",!0),i.value?(t(),e("div",S,a[0]||(a[0]=[s("div",{class:"spinner-border"},null,-1)]))):(t(),e("div",T,[(t(!0),e(l,null,g(_.value,n=>{var m,p,v;return t(),e("div",{key:n.blockId,class:"col-12 col-md-6 col-lg-6"},[s("div",F,[s("div",I,[s("div",null,[s("strong",null,o(k(n.dayOfWeek)),1),s("small",Y,o(n.startTime)+"–"+o(n.endTime),1)]),M(x,{class:"btn btn-sm btn-outline-primary",to:`/preferences/${n.blockId}`},{default:C(()=>a[1]||(a[1]=[f(" Bearbeiten ")])),_:2},1032,["to"])]),s("div",B,[n.status==="ASSIGNED"?(t(),e(l,{key:0},[s("div",O,o((m=n.assignedCourse)==null?void 0:m.name),1),s("div",null,o((p=n.assignedCourse)==null?void 0:p.instructor)+", "+o((v=n.assignedCourse)==null?void 0:v.room),1)],64)):n.status==="OPEN"?(t(),e(l,{key:1},[n.topPreferences.length>0?(t(),e("div",V,[a[2]||(a[2]=s("div",{class:"fw-semibold"},"Top-Präferenzen:",-1)),s("ol",L,[(t(!0),e(l,null,g(n.topPreferences,c=>(t(),e("li",{key:c.id,class:"list-group-item"},[f(o(c.name)+" ",1),s("span",H,"Prio "+o(c.preferenceIndex+1),1)]))),128))])])):(t(),e("div",R," Mittagessen / Hofpause "))],64)):(t(),e("span",U,"Pause gewählt"))])])])}),128))]))])}}});export{z as default};
